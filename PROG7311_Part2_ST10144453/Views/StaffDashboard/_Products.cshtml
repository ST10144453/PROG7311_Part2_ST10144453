@model PROG7311_Part2_ST10144453.ViewModels.StaffDashboardViewModel


@foreach (var product in Model.Products)
{
    <!-- Project Card -->
    <div class="card overflow-hidden shadow rounded-4 border-0 mb-5 position-relative">
        <div class="card-body p-0">
            <div class="row g-0">
                <div class="col-md-8 p-5">
                    <h2 class="fw-bolder">@product.ProductName</h2>
                    <p>@product.Description</p>
                    <p><strong>Price:</strong> @product.Price</p>
                    <p>Category: @product.Category</p>
                    <p>Production Date: @product.productionDate.ToString("MM/dd/yyyy")</p>
                </div>
                <div class="col-md-4 d-flex align-items-center justify-content-center" style="height: 400px;">
                    <a href="data:image/jpeg;base64,@product.photo1" data-lightbox="@product.ProductId" data-title="@product.ProductName">
                        <img class="img-fluid" src="data:image/jpeg;base64,@product.photo1" alt="..." style="width: 300px; height: 400px; object-fit: cover;" />
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit and Delete Icons -->

    <form method="post" asp-action="DeleteProduct" asp-controller="StaffDashboard" class="d-inline">
        <input type="hidden" name="productId" value="@product.ProductId" />
        <input type="hidden" name="UserId" value="@Model.User.UserId" />
        <button type="submit" class="btn p-0 border-0 bg-transparent">
            <img src="~/assets/icon_delete.png" alt="Delete Icon" width="20" height="20" />
        </button>
    </form>



    @* Add hidden links for additional photos to be displayed in the Lightbox gallery *@
    @if (product.photo2 != null)
    {
        <a href="data:image/jpeg;base64,@product.photo2" data-lightbox="@product.ProductId" data-title="@product.ProductName" class="d-none">
            <img class="img-fluid w-100 h-100" src="data:image/jpeg;base64,@product.photo2" alt="..." style="object-fit: cover;" />
        </a>
    }
    @if (product.photo3 != null)
    {
        <a href="data:image/jpeg;base64,@product.photo3" data-lightbox="@product.ProductId" data-title="@product.ProductName" class="d-none">
            <img class="img-fluid w-100 h-100" src="data:image/jpeg;base64,@product.photo3" alt="..." style="object-fit: cover;" />
        </a>
    }
    @if (product.photo4 != null)
    {
        <a href="data:image/jpeg;base64,@product.photo4" data-lightbox="@product.ProductId" data-title="@product.ProductName" class="d-none">
            <img class="img-fluid w-100 h-100" src="data:image/jpeg;base64,@product.photo4" alt="..." style="object-fit: cover;" />
        </a>
    }
    @if (product.photo5 != null)
    {
        <a href="data:image/jpeg;base64,@product.photo5" data-lightbox="@product.ProductId" data-title="@product.ProductName" class="d-none">
            <img class="img-fluid w-100 h-100" src="data:image/jpeg;base64,@product.photo5" alt="..." style="object-fit: cover;" />
        </a>
    }


}